# 划词翻译助手使用说明

## 功能概述

划词翻译助手是一个Edge浏览器插件，可以实现跨页面文本传输功能。您可以在一个页面上选择文本，插件会自动将文本发送到另一个已设置的GPT页面。

## 安装和设置

### 1. 安装插件
1. 打开Edge浏览器
2. 进入扩展管理页面（地址栏输入 `edge://extensions/`）
3. 开启"开发者模式"
4. 点击"加载解压缩的扩展"
5. 选择包含插件文件的文件夹

### 2. 设置GPT目标页面
1. 打开GPT网站（如ChatGPT）
2. 点击浏览器工具栏中的插件图标
3. 插件会自动将当前页面设为GPT目标页面
4. 插件图标会变为激活状态（如果有图标文件）

## 使用方法

### 方法一：划词翻译
1. 在任意网页上选择需要翻译的文本
2. 页面上会出现"翻译"按钮
3. 点击"翻译"按钮
4. 插件会自动切换到GPT页面并发送文本

### 方法二：右键菜单
1. 在任意网页上选择需要翻译的文本
2. 右键点击选中文本
3. 选择"使用划词翻译助手翻译"
4. 插件会自动切换到GPT页面并发送文本

## 调试和测试

### 使用测试页面
1. 打开 `test.html` 文件
2. 按照页面上的说明进行测试

### 使用调试页面
1. 打开 `debug.html` 文件
2. 按F12打开开发者工具
3. 切换到Console标签页
4. 点击页面上的调试按钮查看插件状态

### 调试按钮说明
- **检查GPT页面设置**：查看当前是否已设置GPT目标页面
- **设置当前为GPT页面**：将当前页面设为GPT目标页面
- **清除GPT页面设置**：清除GPT目标页面设置
- **发送测试文本**：发送测试文本到GPT页面
- **清空输出**：清空调试输出信息

## 常见问题排查

### 1. 无法设置GPT目标页面
- 确保插件已正确安装并启用
- 确保GPT页面已完全加载
- 检查浏览器控制台是否有错误信息

### 2. 文本无法发送到GPT页面
- 确保已正确设置GPT目标页面
- 检查GPT页面是否仍然打开
- 某些GPT网站可能更新了页面结构，需要调整选择器

### 3. 插件按钮不出现
- 确保已选择文本且文本不为空
- 检查页面是否有内容安全策略阻止插件运行

## 技术说明

### 文件结构
- `manifest.json`：插件配置文件
- `background.js`：后台脚本，处理插件核心逻辑
- `content.js`：内容脚本，处理页面交互
- `popup.html`：插件弹出页面
- `test.html`：测试页面
- `debug.html`：调试页面

### 核心功能
1. **跨页面通信**：使用Chrome扩展的消息传递机制
2. **文本传输**：将选中文本从一个页面发送到另一个页面
3. **页面识别**：通过插件图标点击或右键菜单设置目标页面
4. **自动填充**：自动识别并填充GPT页面的输入框

## 版本信息
当前版本：1.0